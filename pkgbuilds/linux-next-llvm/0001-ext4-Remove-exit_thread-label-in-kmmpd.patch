From f1dc310efcbe8541b4c23e36fa3fa7a1ea516c64 Mon Sep 17 00:00:00 2001
From: Nathan Chancellor <nathan@kernel.org>
Date: Tue, 6 Jul 2021 12:26:28 -0700
Subject: [PATCH] ext4: Remove exit_thread label in kmmpd()

Fixes: abc8250d1f1e ("ext4: possible use-after-free when remounting r/o a mmp-protected file system")
Link: https://lore.kernel.org/r/20210706094627.1ebe4b98@canb.auug.org.au/
Signed-off-by: Nathan Chancellor <nathan@kernel.org>
---
 fs/ext4/mmp.c | 1 -
 1 file changed, 1 deletion(-)

diff --git a/fs/ext4/mmp.c b/fs/ext4/mmp.c
index af461df1c1ec..1fb464b2ed27 100644
--- a/fs/ext4/mmp.c
+++ b/fs/ext4/mmp.c
@@ -244,7 +244,6 @@ static int kmmpd(void *data)
 
 	retval = write_mmp_block(sb, bh);
 
-exit_thread:
 	return retval;
 wait_to_exit:
 	while (!kthread_should_stop())
-- 
2.32.0.93.g670b81a890

